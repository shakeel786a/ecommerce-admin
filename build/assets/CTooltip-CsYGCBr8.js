import{a as t,_ as L,R as o,c as A,P as e,d as B,n as I}from"./index-DRiiqUs1.js";import{u as V,t as $,v as z}from"./DefaultLayout-4wUdWsYR.js";import{g as D,e as G}from"./getRTLPlacement-DuoHhmV3.js";const w=t.forwardRef((m,E)=>{var{children:O,animation:R=!0,className:C,container:j,content:d,delay:i=0,fallbackPlacements:k=["top","right","bottom","left"],offset:N=[0,6],onHide:b,onShow:g,placement:S="top",popperConfig:p,trigger:n=["hover","focus"],visible:u}=m,H=L(m,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","trigger","visible"]);const s=t.useRef(null),r=t.useRef(null),_=V(E,s),h=`tooltip${t.useId()}`,[c,y]=t.useState(!1),[a,P]=t.useState(u),{initPopper:x,destroyPopper:F,updatePopper:M}=$(),v=typeof i=="number"?{show:i,hide:i}:i,T={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:k}},{name:"offset",options:{offset:N}}],placement:D(S,r.current)},q=Object.assign(Object.assign({},T),typeof p=="function"?p(T):p);t.useEffect(()=>{if(u){l();return}f()},[u]),t.useEffect(()=>{if(c&&r.current&&s.current){x(r.current,s.current,q),setTimeout(()=>{P(!0)},v.show);return}!c&&r.current&&s.current&&F()},[c]),t.useEffect(()=>{!a&&r.current&&s.current&&G(()=>{y(!1)},s.current)},[a]);const l=()=>{y(!0),g&&g()},f=()=>{setTimeout(()=>{P(!1),b&&b()},v.hide)};return t.useEffect(()=>{M()},[d]),o.createElement(o.Fragment,null,o.cloneElement(O,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a&&{"aria-describedby":h}),{ref:r}),(n==="click"||n.includes("click"))&&{onClick:()=>a?f():l()}),(n==="focus"||n.includes("focus"))&&{onFocus:()=>l(),onBlur:()=>f()}),(n==="hover"||n.includes("hover"))&&{onMouseEnter:()=>l(),onMouseLeave:()=>f()})),o.createElement(z,{container:j,portal:!0},c&&o.createElement("div",Object.assign({className:A("tooltip","bs-tooltip-auto",{fade:R,show:a},C),id:h,ref:_,role:"tooltip"},H),o.createElement("div",{className:"tooltip-arrow"}),o.createElement("div",{className:"tooltip-inner"},d))))});w.propTypes={animation:e.bool,children:e.node,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:I,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),trigger:B,visible:e.bool};w.displayName="CTooltip";export{w as C};
